import{s as be,B as X,C as de,D as Ue,E as Me,F as Ve,G as Pe,e as v,t as F,a as N,c as g,b,d as q,f as u,g as w,p,i as R,h as i,T as Ze,K as ye,j as Q,k as xe,H as Ke,u as We,I as wt,Q as Ut,o as Je,x as ct,ah as dt}from"../chunks/scheduler.bQlOXBkt.js";import{S as ke,i as Ee,b as y,d as x,m as ee,t as E,a as T,e as te,c as De,g as Ae}from"../chunks/index.dknh01mB.js";import{e as Le}from"../chunks/each.anRlpCm9.js";import{e as et}from"../chunks/forms.uhvzcuB7.js";import{p as Tt}from"../chunks/popup.R-M2AyRG.js";import{g as Mt}from"../chunks/stores.-cQko4Xi.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.JlGIzIKZ.js";import{P as Ct}from"../chunks/ProgressRadial.xsBlPM_P.js";import{g as Be,a as He}from"../chunks/spread.rEx3vLA9.js";import{I as Oe}from"../chunks/Icon.9NkTZT6r.js";import{P as Dt}from"../chunks/plus.qIUUgd4x.js";import{i as tt,l as Ge}from"../chunks/i18n.Mah0M8rZ.js";function Vt(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function Pt(r){let e,s;const l=[{name:"globe"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Vt]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function Bt(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"}],["path",{d:"M2 12h20"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class Ht extends ke{constructor(e){super(),Ee(this,e,Bt,Pt,be,{})}}function Ot(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function St(r){let e,s;const l=[{name:"hard-drive-download"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Ot]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function Rt(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["path",{d:"M12 2v8"}],["path",{d:"m16 6-4 4-4-4"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M6 18h.01"}],["path",{d:"M10 18h.01"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class lt extends ke{constructor(e){super(),Ee(this,e,Rt,St,be,{})}}function Lt(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function jt(r){let e,s;const l=[{name:"info"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Lt]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function Ft(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class qt extends ke{constructor(e){super(),Ee(this,e,Ft,jt,be,{})}}function Gt(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function Zt(r){let e,s;const l=[{name:"library-big"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Gt]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function Kt(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["rect",{width:"8",height:"18",x:"3",y:"3",rx:"1"}],["path",{d:"M7 3v18"}],["path",{d:"M20.4 18.9c.2.5-.1 1.1-.6 1.3l-1.9.7c-.5.2-1.1-.1-1.3-.6L11.1 5.1c-.2-.5.1-1.1.6-1.3l1.9-.7c.5-.2 1.1.1 1.3.6Z"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class Qt extends ke{constructor(e){super(),Ee(this,e,Kt,Zt,be,{})}}function Xt(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function zt(r){let e,s;const l=[{name:"code"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Xt]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function Jt(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["polyline",{points:"16 18 22 12 16 6"}],["polyline",{points:"8 6 2 12 8 18"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class Wt extends ke{constructor(e){super(),Ee(this,e,Jt,zt,be,{})}}function Yt(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function yt(r){let e,s;const l=[{name:"external-link"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Yt]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function xt(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["path",{d:"M15 3h6v6"}],["path",{d:"M10 14 21 3"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class el extends ke{constructor(e){super(),Ee(this,e,xt,yt,be,{})}}function tl(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function ll(r){let e,s;const l=[{name:"trash-2"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[tl]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function nl(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class al extends ke{constructor(e){super(),Ee(this,e,nl,ll,be,{})}}function rl(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function sl(r){let e,s;const l=[{name:"pencil"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[rl]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function ol(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}],["path",{d:"m15 5 4 4"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class il extends ke{constructor(e){super(),Ee(this,e,ol,sl,be,{})}}function fl(r){let e;const s=r[2].default,l=Ue(s,r,r[3],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,t){l&&l.m(n,t),e=!0},p(n,t){l&&l.p&&(!e||t&8)&&Me(l,s,n,n[3],e?Pe(s,n[3],t,null):Ve(n[3]),null)},i(n){e||(E(l,n),e=!0)},o(n){T(l,n),e=!1},d(n){l&&l.d(n)}}}function ul(r){let e,s;const l=[{name:"x"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[fl]},$$scope:{ctx:r}};for(let t=0;t<l.length;t+=1)n=X(n,l[t]);return e=new Oe({props:n}),{c(){y(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,a){ee(e,t,a),s=!0},p(t,[a]){const o=a&3?Be(l,[l[0],a&2&&He(t[1]),a&1&&{iconNode:t[0]}]):{};a&8&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){T(e.$$.fragment,t),s=!1},d(t){te(e,t)}}}function cl(r,e,s){let{$$slots:l={},$$scope:n}=e;const t=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return r.$$set=a=>{s(1,e=X(X({},e),de(a))),"$$scope"in a&&s(3,n=a.$$scope)},e=de(e),[t,e,l,n]}class At extends ke{constructor(e){super(),Ee(this,e,cl,ul,be,{})}}function dl(r){let e,s,l=r[3].t("discover.app-info-modal.additional-information")+"",n,t,a,o,d,_,f=r[3].t("discover.app-info-modal.id")+"",c,m,h,k=r[0].appId+"",L,U,M,z=r[3].t("discover.app-info-modal.published-at")+"",C,Y,J=r[4].format(new Date(r[0].publishedAt))+"",le,O,A,j=r[3].t("discover.app-info-modal.marketplace")+"",P,ue,re,ie,W,me,_e;return o=new At({}),{c(){e=v("div"),s=v("h3"),n=F(l),t=N(),a=v("button"),y(o.$$.fragment),d=N(),_=v("div"),c=F(f),m=F(": "),h=v("code"),L=F(k),U=N(),M=v("div"),C=F(z),Y=F(": "),le=F(J),O=N(),A=v("div"),P=F(j),ue=F(`:
        `),re=v("a"),ie=F(r[1]),this.h()},l(oe){e=g(oe,"DIV",{class:!0});var V=b(e);s=g(V,"H3",{class:!0});var ce=b(s);n=q(ce,l),ce.forEach(u),t=w(V),a=g(V,"BUTTON",{class:!0});var Ne=b(a);x(o.$$.fragment,Ne),Ne.forEach(u),d=w(V),_=g(V,"DIV",{});var he=b(_);c=q(he,f),m=q(he,": "),h=g(he,"CODE",{});var ve=b(h);L=q(ve,k),ve.forEach(u),he.forEach(u),U=w(V),M=g(V,"DIV",{});var $e=b(M);C=q($e,z),Y=q($e,": "),le=q($e,J),$e.forEach(u),O=w(V),A=g(V,"DIV",{});var pe=b(A);P=q(pe,j),ue=q(pe,`:
        `),re=g(pe,"A",{href:!0,target:!0,class:!0});var S=b(re);ie=q(S,r[1]),S.forEach(u),pe.forEach(u),V.forEach(u),this.h()},h(){p(s,"class","h3"),p(a,"class","absolute top-2 right-2 btn btn-icon"),p(re,"href",r[1]),p(re,"target","_blank"),p(re,"class","anchor"),p(e,"class","card variant-filled shadow-2xl p-4 relative")},m(oe,V){R(oe,e,V),i(e,s),i(s,n),i(e,t),i(e,a),ee(o,a,null),i(e,d),i(e,_),i(_,c),i(_,m),i(_,h),i(h,L),i(e,U),i(e,M),i(M,C),i(M,Y),i(M,le),i(e,O),i(e,A),i(A,P),i(A,ue),i(A,re),i(re,ie),W=!0,me||(_e=Ze(a,"click",function(){ye(r[2].onClose)&&r[2].onClose.apply(this,arguments)}),me=!0)},p(oe,[V]){r=oe,(!W||V&8)&&l!==(l=r[3].t("discover.app-info-modal.additional-information")+"")&&Q(n,l),(!W||V&8)&&f!==(f=r[3].t("discover.app-info-modal.id")+"")&&Q(c,f),(!W||V&1)&&k!==(k=r[0].appId+"")&&Q(L,k),(!W||V&8)&&z!==(z=r[3].t("discover.app-info-modal.published-at")+"")&&Q(C,z),(!W||V&1)&&J!==(J=r[4].format(new Date(r[0].publishedAt))+"")&&Q(le,J),(!W||V&8)&&j!==(j=r[3].t("discover.app-info-modal.marketplace")+"")&&Q(P,j),(!W||V&2)&&Q(ie,r[1]),(!W||V&2)&&p(re,"href",r[1])},i(oe){W||(E(o.$$.fragment,oe),W=!0)},o(oe){T(o.$$.fragment,oe),W=!1},d(oe){oe&&u(e),te(o),me=!1,_e()}}}function ml(r,e,s){let l;xe(r,tt,d=>s(3,l=d));let{marketplaceApp:n}=e,{marketplaceUrl:t}=e,{parent:a}=e;const o=new Intl.DateTimeFormat(l.language,{year:"numeric",month:"long",day:"numeric",weekday:"long"});return r.$$set=d=>{"marketplaceApp"in d&&s(0,n=d.marketplaceApp),"marketplaceUrl"in d&&s(1,t=d.marketplaceUrl),"parent"in d&&s(2,a=d.parent)},[n,t,a,l,o]}class pl extends ke{constructor(e){super(),Ee(this,e,ml,dl,be,{marketplaceApp:0,marketplaceUrl:1,parent:2})}}function mt(r,e,s){const l=r.slice();return l[8]=e[s],l}function pt(r){let e,s,l,n,t,a,o=r[8].name+"",d,_,f,c;return{c(){e=v("label"),s=v("input"),n=N(),t=v("div"),a=v("h4"),d=F(o),_=N(),this.h()},l(m){e=g(m,"LABEL",{});var h=b(e);s=g(h,"INPUT",{type:!0,name:!0,class:!0}),n=w(h),t=g(h,"DIV",{class:!0});var k=b(t);a=g(k,"H4",{class:!0});var L=b(a);d=q(L,o),L.forEach(u),k.forEach(u),_=w(h),h.forEach(u),this.h()},h(){p(s,"type","radio"),p(s,"name","containerEngineId"),p(s,"class","hidden"),s.value=l=r[8].id,p(a,"class","h4"),p(t,"class","card variant-filled hover:shadow-2xl hover:-translate-y-1 border-4 border-secondary-200-700-token p-4 transition-all")},m(m,h){R(m,e,h),i(e,s),i(e,n),i(e,t),i(t,a),i(a,d),i(e,_),f||(c=Ze(s,"change",r[6]),f=!0)},p(m,h){h&4&&l!==(l=m[8].id)&&(s.value=l),h&4&&o!==(o=m[8].name+"")&&Q(d,o)},d(m){m&&u(e),f=!1,c()}}}function hl(r){let e,s,l,n=r[5].t("discover.container-engines-modal.select-engine")+"",t,a,o,d,_,f,c=r[5].t("discover.container-engines-modal.select-engine-description")+"",m,h,k,L,U,M,z,C,Y,J;d=new At({});let le=Le(r[2]),O=[];for(let A=0;A<le.length;A+=1)O[A]=pt(mt(r,le,A));return{c(){e=v("div"),s=v("div"),l=v("h3"),t=F(n),a=N(),o=v("button"),y(d.$$.fragment),_=N(),f=v("p"),m=F(c),h=N(),k=v("form"),L=v("input"),U=N(),M=v("input"),z=N();for(let A=0;A<O.length;A+=1)O[A].c();this.h()},l(A){e=g(A,"DIV",{class:!0});var j=b(e);s=g(j,"DIV",{});var P=b(s);l=g(P,"H3",{class:!0});var ue=b(l);t=q(ue,n),ue.forEach(u),a=w(P),o=g(P,"BUTTON",{class:!0});var re=b(o);x(d.$$.fragment,re),re.forEach(u),P.forEach(u),_=w(j),f=g(j,"P",{class:!0});var ie=b(f);m=q(ie,c),ie.forEach(u),h=w(j),k=g(j,"FORM",{method:!0,action:!0,class:!0});var W=b(k);L=g(W,"INPUT",{type:!0,name:!0}),U=w(W),M=g(W,"INPUT",{type:!0,name:!0}),z=w(W);for(let me=0;me<O.length;me+=1)O[me].l(W);W.forEach(u),j.forEach(u),this.h()},h(){p(l,"class","h3"),p(o,"class","absolute top-2 right-2 btn btn-icon"),p(f,"class","text-sm"),p(L,"type","hidden"),p(L,"name","appId"),L.value=r[0],p(M,"type","hidden"),p(M,"name","marketplaceId"),M.value=r[1],p(k,"method","post"),p(k,"action","?/installApp"),p(k,"class","grid grid-cols-1 md:grid-cols-2 gap-4 !mt-4"),p(e,"class","card variant-filled shadow-2xl p-4 relative space-y-2")},m(A,j){R(A,e,j),i(e,s),i(s,l),i(l,t),i(s,a),i(s,o),ee(d,o,null),i(e,_),i(e,f),i(f,m),i(e,h),i(e,k),i(k,L),i(k,U),i(k,M),i(k,z);for(let P=0;P<O.length;P+=1)O[P]&&O[P].m(k,null);r[7](k),C=!0,Y||(J=[Ze(o,"click",function(){ye(r[3].onClose)&&r[3].onClose.apply(this,arguments)}),Ke(et.call(null,k))],Y=!0)},p(A,[j]){if(r=A,(!C||j&32)&&n!==(n=r[5].t("discover.container-engines-modal.select-engine")+"")&&Q(t,n),(!C||j&32)&&c!==(c=r[5].t("discover.container-engines-modal.select-engine-description")+"")&&Q(m,c),(!C||j&1)&&(L.value=r[0]),(!C||j&2)&&(M.value=r[1]),j&28){le=Le(r[2]);let P;for(P=0;P<le.length;P+=1){const ue=mt(r,le,P);O[P]?O[P].p(ue,j):(O[P]=pt(ue),O[P].c(),O[P].m(k,null))}for(;P<O.length;P+=1)O[P].d(1);O.length=le.length}},i(A){C||(E(d.$$.fragment,A),C=!0)},o(A){T(d.$$.fragment,A),C=!1},d(A){A&&u(e),te(d),We(O,A),r[7](null),Y=!1,wt(J)}}}function _l(r,e,s){let l;xe(r,tt,c=>s(5,l=c));let{appId:n}=e,{marketplaceId:t}=e,{availableContainerEngines:a}=e,{parent:o}=e,d=null;const _=()=>{d==null||d.requestSubmit(),o.onClose()};function f(c){Ut[c?"unshift":"push"](()=>{d=c,s(4,d)})}return r.$$set=c=>{"appId"in c&&s(0,n=c.appId),"marketplaceId"in c&&s(1,t=c.marketplaceId),"availableContainerEngines"in c&&s(2,a=c.availableContainerEngines),"parent"in c&&s(3,o=c.parent)},[n,t,a,o,d,l,_,f]}class vl extends ke{constructor(e){super(),Ee(this,e,_l,hl,be,{appId:0,marketplaceId:1,availableContainerEngines:2,parent:3})}}function ht(r,e,s){const l=r.slice();return l[7]=e[s],l}function _t(r,e,s){const l=r.slice();return l[10]=e[s],l}function vt(r,e,s){const l=r.slice();return l[13]=e[s],l}function gt(r){let e,s,l,n,t,a,o=r[13].gitRemoteUrl+"",d,_,f,c,m,h,k,L,U,M,z;return c=new il({}),k=new al({}),{c(){e=v("li"),s=v("form"),l=v("input"),t=N(),a=v("span"),d=F(o),_=N(),f=v("button"),y(c.$$.fragment),m=N(),h=v("button"),y(k.$$.fragment),L=N(),this.h()},l(C){e=g(C,"LI",{});var Y=b(e);s=g(Y,"FORM",{method:!0,class:!0});var J=b(s);l=g(J,"INPUT",{type:!0,name:!0}),t=w(J),a=g(J,"SPAN",{class:!0});var le=b(a);d=q(le,o),le.forEach(u),_=w(J),f=g(J,"BUTTON",{class:!0});var O=b(f);x(c.$$.fragment,O),O.forEach(u),m=w(J),h=g(J,"BUTTON",{formaction:!0,class:!0});var A=b(h);x(k.$$.fragment,A),A.forEach(u),J.forEach(u),L=w(Y),Y.forEach(u),this.h()},h(){p(l,"type","hidden"),p(l,"name","id"),l.value=n=r[13].id,p(a,"class","mr-2"),f.disabled=!0,p(f,"class","btn-icon"),p(h,"formaction","?/deleteRepository"),p(h,"class","btn-icon text-error-500-400-token"),p(s,"method","post"),p(s,"class","flex items-center gap-1")},m(C,Y){R(C,e,Y),i(e,s),i(s,l),i(s,t),i(s,a),i(a,d),i(s,_),i(s,f),ee(c,f,null),i(s,m),i(s,h),ee(k,h,null),i(e,L),U=!0,M||(z=Ke(et.call(null,s)),M=!0)},p(C,Y){(!U||Y&1&&n!==(n=C[13].id))&&(l.value=n),(!U||Y&1)&&o!==(o=C[13].gitRemoteUrl+"")&&Q(d,o)},i(C){U||(E(c.$$.fragment,C),E(k.$$.fragment,C),U=!0)},o(C){T(c.$$.fragment,C),T(k.$$.fragment,C),U=!1},d(C){C&&u(e),te(c),te(k),M=!1,z()}}}function $t(r){let e,s,l,n,t=r[2].t("discover.add-default-marketplace")+"",a,o;return s=new Dt({}),{c(){e=v("button"),y(s.$$.fragment),l=N(),n=v("span"),a=F(t),this.h()},l(d){e=g(d,"BUTTON",{class:!0});var _=b(e);x(s.$$.fragment,_),l=w(_),n=g(_,"SPAN",{});var f=b(n);a=q(f,t),f.forEach(u),_.forEach(u),this.h()},h(){e.disabled=!0,p(e,"class","btn btn-sm variant-filled-secondary space-x-2 ml-2")},m(d,_){R(d,e,_),ee(s,e,null),i(e,l),i(e,n),i(n,a),o=!0},p(d,_){(!o||_&4)&&t!==(t=d[2].t("discover.add-default-marketplace")+"")&&Q(a,t)},i(d){o||(E(s.$$.fragment,d),o=!0)},o(d){T(s.$$.fragment,d),o=!1},d(d){d&&u(e),te(s)}}}function bt(r){let e,s,l,n,t,a=r[2].t("discover.links.website")+"",o,d,_;return l=new Ht({props:{class:"h-4 w-4"}}),{c(){e=v("a"),s=v("span"),y(l.$$.fragment),n=N(),t=v("span"),o=F(a),this.h()},l(f){e=g(f,"A",{class:!0,href:!0,target:!0});var c=b(e);s=g(c,"SPAN",{});var m=b(s);x(l.$$.fragment,m),m.forEach(u),n=w(c),t=g(c,"SPAN",{});var h=b(t);o=q(h,a),h.forEach(u),c.forEach(u),this.h()},h(){p(e,"class","chip variant-soft hover:variant-filled"),p(e,"href",d=r[7].links.website),p(e,"target","_blank")},m(f,c){R(f,e,c),i(e,s),ee(l,s,null),i(e,n),i(e,t),i(t,o),_=!0},p(f,c){(!_||c&4)&&a!==(a=f[2].t("discover.links.website")+"")&&Q(o,a),(!_||c&1&&d!==(d=f[7].links.website))&&p(e,"href",d)},i(f){_||(E(l.$$.fragment,f),_=!0)},o(f){T(l.$$.fragment,f),_=!1},d(f){f&&u(e),te(l)}}}function kt(r){let e,s,l,n,t,a=r[2].t("discover.links.repository")+"",o,d,_;return l=new Wt({props:{class:"h-4 w-4"}}),{c(){e=v("a"),s=v("span"),y(l.$$.fragment),n=N(),t=v("span"),o=F(a),this.h()},l(f){e=g(f,"A",{class:!0,href:!0,target:!0});var c=b(e);s=g(c,"SPAN",{});var m=b(s);x(l.$$.fragment,m),m.forEach(u),n=w(c),t=g(c,"SPAN",{});var h=b(t);o=q(h,a),h.forEach(u),c.forEach(u),this.h()},h(){p(e,"class","chip variant-soft hover:variant-filled"),p(e,"href",d=r[7].links.repository),p(e,"target","_blank")},m(f,c){R(f,e,c),i(e,s),ee(l,s,null),i(e,n),i(e,t),i(t,o),_=!0},p(f,c){(!_||c&4)&&a!==(a=f[2].t("discover.links.repository")+"")&&Q(o,a),(!_||c&1&&d!==(d=f[7].links.repository))&&p(e,"href",d)},i(f){_||(E(l.$$.fragment,f),_=!0)},o(f){T(l.$$.fragment,f),_=!1},d(f){f&&u(e),te(l)}}}function Et(r){let e,s,l,n,t,a=Ge(r[10].name)+"",o,d,_,f;return l=new el({props:{class:"h-4 w-4"}}),{c(){e=v("a"),s=v("span"),y(l.$$.fragment),n=N(),t=v("span"),o=F(a),d=N(),this.h()},l(c){e=g(c,"A",{class:!0,href:!0,target:!0});var m=b(e);s=g(m,"SPAN",{});var h=b(s);x(l.$$.fragment,h),h.forEach(u),n=w(m),t=g(m,"SPAN",{});var k=b(t);o=q(k,a),k.forEach(u),d=w(m),m.forEach(u),this.h()},h(){p(e,"class","chip variant-soft hover:variant-filled"),p(e,"href",_=r[10].url),p(e,"target","_blank")},m(c,m){R(c,e,m),i(e,s),ee(l,s,null),i(e,n),i(e,t),i(t,o),i(e,d),f=!0},p(c,m){(!f||m&1)&&a!==(a=Ge(c[10].name)+"")&&Q(o,a),(!f||m&1&&_!==(_=c[10].url))&&p(e,"href",_)},i(c){f||(E(l.$$.fragment,c),f=!0)},o(c){T(l.$$.fragment,c),f=!1},d(c){c&&u(e),te(l)}}}function gl(r){let e,s,l,n,t,a,o;const d=[El,kl],_=[];function f(m,h){return h&3&&(s=null),s==null&&(s=!!m[1].includes(m[7].appId)),s?0:1}l=f(r,-1),n=_[l]=d[l](r);function c(){return r[5](r[7])}return{c(){e=v("button"),n.c(),this.h()},l(m){e=g(m,"BUTTON",{type:!0,class:!0});var h=b(e);n.l(h),h.forEach(u),this.h()},h(){p(e,"type","button"),p(e,"class","btn variant-filled-primary font-semibold")},m(m,h){R(m,e,h),_[l].m(e,null),t=!0,a||(o=Ze(e,"click",c),a=!0)},p(m,h){r=m;let k=l;l=f(r,h),l===k?_[l].p(r,h):(Ae(),T(_[k],1,1,()=>{_[k]=null}),De(),n=_[l],n?n.p(r,h):(n=_[l]=d[l](r),n.c()),E(n,1),n.m(e,null))},i(m){t||(E(n),t=!0)},o(m){T(n),t=!1},d(m){m&&u(e),_[l].d(),a=!1,o()}}}function $l(r){let e,s,l,n,t,a,o,d;const _=[Nl,Il],f=[];function c(m,h){return h&3&&(t=null),t==null&&(t=!!m[1].includes(m[7].appId)),t?0:1}return a=c(r,-1),o=f[a]=_[a](r),{c(){e=v("input"),l=N(),n=v("button"),o.c(),this.h()},l(m){e=g(m,"INPUT",{type:!0,name:!0}),l=w(m),n=g(m,"BUTTON",{type:!0,formaction:!0,class:!0});var h=b(n);o.l(h),h.forEach(u),this.h()},h(){p(e,"type","hidden"),p(e,"name","containerEngineId"),e.value=s=r[0].containerEngines[0].id,p(n,"type","submit"),p(n,"formaction","?/installApp"),p(n,"class","btn variant-filled-primary font-semibold")},m(m,h){R(m,e,h),R(m,l,h),R(m,n,h),f[a].m(n,null),d=!0},p(m,h){(!d||h&1&&s!==(s=m[0].containerEngines[0].id))&&(e.value=s);let k=a;a=c(m,h),a===k?f[a].p(m,h):(Ae(),T(f[k],1,1,()=>{f[k]=null}),De(),o=f[a],o?o.p(m,h):(o=f[a]=_[a](m),o.c()),E(o,1),o.m(n,null))},i(m){d||(E(o),d=!0)},o(m){T(o),d=!1},d(m){m&&(u(e),u(l),u(n)),f[a].d()}}}function bl(r){let e,s,l,n=r[2].t("discover.install")+"",t,a,o,d,_=r[2].t("discover.popup-no-container-engines.no-container-engine-available")+"",f,c,m,h,k,L;return s=new lt({props:{class:"mr-2"}}),{c(){e=v("button"),y(s.$$.fragment),l=N(),t=F(n),a=N(),o=v("div"),d=v("p"),f=F(_),c=N(),m=v("div"),this.h()},l(U){e=g(U,"BUTTON",{type:!0,class:!0});var M=b(e);x(s.$$.fragment,M),l=w(M),t=q(M,n),M.forEach(u),a=w(U),o=g(U,"DIV",{class:!0,"data-popup":!0});var z=b(o);d=g(z,"P",{});var C=b(d);f=q(C,_),C.forEach(u),c=w(z),m=g(z,"DIV",{class:!0}),b(m).forEach(u),z.forEach(u),this.h()},h(){p(e,"type","button"),e.disabled=!0,p(e,"class","btn variant-filled-primary font-semibold"),p(m,"class","arrow variant-filled-warning"),p(o,"class","card p-4 variant-filled-warning"),p(o,"data-popup","popupNoContainerEngines")},m(U,M){R(U,e,M),ee(s,e,null),i(e,l),i(e,t),R(U,a,M),R(U,o,M),i(o,d),i(d,f),i(o,c),i(o,m),h=!0,k||(L=Ke(Tt.call(null,e,{event:"hover",target:"popupNoContainerEngines",placement:"top"})),k=!0)},p(U,M){(!h||M&4)&&n!==(n=U[2].t("discover.install")+"")&&Q(t,n),(!h||M&4)&&_!==(_=U[2].t("discover.popup-no-container-engines.no-container-engine-available")+"")&&Q(f,_)},i(U){h||(E(s.$$.fragment,U),h=!0)},o(U){T(s.$$.fragment,U),h=!1},d(U){U&&(u(e),u(a),u(o)),te(s),k=!1,L()}}}function kl(r){let e,s,l=r[2].t("discover.install")+"",n,t;return e=new lt({props:{class:"mr-2"}}),{c(){y(e.$$.fragment),s=N(),n=F(l)},l(a){x(e.$$.fragment,a),s=w(a),n=q(a,l)},m(a,o){ee(e,a,o),R(a,s,o),R(a,n,o),t=!0},p(a,o){(!t||o&4)&&l!==(l=a[2].t("discover.install")+"")&&Q(n,l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){a&&(u(s),u(n)),te(e,a)}}}function El(r){let e,s,l=r[2].t("discover.installing")+"",n,t;return e=new Ct({props:{class:"h-6 w-6 mr-2 -ml-2",stroke:100,meter:"stroke-surface-50 dark:stroke-surface-900",value:void 0}}),{c(){y(e.$$.fragment),s=N(),n=F(l)},l(a){x(e.$$.fragment,a),s=w(a),n=q(a,l)},m(a,o){ee(e,a,o),R(a,s,o),R(a,n,o),t=!0},p(a,o){(!t||o&4)&&l!==(l=a[2].t("discover.installing")+"")&&Q(n,l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){a&&(u(s),u(n)),te(e,a)}}}function Il(r){let e,s,l=r[2].t("discover.install")+"",n,t;return e=new lt({props:{class:"mr-2"}}),{c(){y(e.$$.fragment),s=N(),n=F(l)},l(a){x(e.$$.fragment,a),s=w(a),n=q(a,l)},m(a,o){ee(e,a,o),R(a,s,o),R(a,n,o),t=!0},p(a,o){(!t||o&4)&&l!==(l=a[2].t("discover.install")+"")&&Q(n,l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){a&&(u(s),u(n)),te(e,a)}}}function Nl(r){let e,s,l=r[2].t("discover.installing")+"",n,t;return e=new Ct({props:{class:"h-6 w-6 mr-2 -ml-2",stroke:100,meter:"stroke-surface-50 dark:stroke-surface-900",value:void 0}}),{c(){y(e.$$.fragment),s=N(),n=F(l)},l(a){x(e.$$.fragment,a),s=w(a),n=q(a,l)},m(a,o){ee(e,a,o),R(a,s,o),R(a,n,o),t=!0},p(a,o){(!t||o&4)&&l!==(l=a[2].t("discover.installing")+"")&&Q(n,l)},i(a){t||(E(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){a&&(u(s),u(n)),te(e,a)}}}function It(r){let e,s,l,n,t,a,o,d,_,f,c,m=Ge(r[7].name)+"",h,k,L,U=r[7].developer+"",M,z,C,Y,J,le,O,A=Ge(r[7].description)+"",j,P,ue,re=r[7].category+"",ie,W,me,_e,oe,V,ce,Ne,he,ve,$e,pe,S,Ce,ne,fe,H,Fe,$,I,D,ge,G=r[7].links.website&&bt(r),se=r[7].links.repository&&kt(r),we=Le(r[7].links.custom??[]),Z=[];for(let K=0;K<we.length;K+=1)Z[K]=Et(_t(r,we,K));const Qe=K=>T(Z[K],1,1,()=>{Z[K]=null});Ce=new qt({});function Xe(){return r[4](r[7])}const Te=[bl,$l,gl],Se=[];function nt(K,B){return K[0].containerEngines.length===0?0:K[0].containerEngines.length===1?1:2}fe=nt(r),H=Se[fe]=Te[fe](r);function at(){return r[6](r[7])}return{c(){e=v("div"),s=v("header"),l=v("div"),n=N(),t=v("div"),a=v("div"),o=v("img"),_=N(),f=v("div"),c=v("h3"),h=F(m),k=N(),L=v("div"),M=F(U),z=N(),C=v("div"),G&&G.c(),Y=N(),se&&se.c(),J=N();for(let K=0;K<Z.length;K+=1)Z[K].c();le=N(),O=v("div"),j=F(A),P=N(),ue=v("span"),ie=F(re),W=N(),me=v("hr"),_e=N(),oe=v("div"),V=v("form"),ce=v("input"),he=N(),ve=v("input"),pe=N(),S=v("button"),y(Ce.$$.fragment),ne=N(),H.c(),$=N(),this.h()},l(K){e=g(K,"DIV",{class:!0});var B=b(e);s=g(B,"HEADER",{class:!0});var Ie=b(s);l=g(Ie,"DIV",{class:!0,style:!0}),b(l).forEach(u),Ie.forEach(u),n=w(B),t=g(B,"DIV",{class:!0});var ae=b(t);a=g(ae,"DIV",{class:!0});var je=b(a);o=g(je,"IMG",{src:!0,alt:!0,class:!0}),_=w(je),f=g(je,"DIV",{});var ze=b(f);c=g(ze,"H3",{class:!0});var rt=b(c);h=q(rt,m),rt.forEach(u),k=w(ze),L=g(ze,"DIV",{class:!0});var st=b(L);M=q(st,U),st.forEach(u),ze.forEach(u),je.forEach(u),z=w(ae),C=g(ae,"DIV",{class:!0});var qe=b(C);G&&G.l(qe),Y=w(qe),se&&se.l(qe),J=w(qe);for(let Ye=0;Ye<Z.length;Ye+=1)Z[Ye].l(qe);qe.forEach(u),le=w(ae),O=g(ae,"DIV",{class:!0});var ot=b(O);j=q(ot,A),ot.forEach(u),P=w(ae),ue=g(ae,"SPAN",{class:!0});var it=b(ue);ie=q(it,re),it.forEach(u),ae.forEach(u),W=w(B),me=g(B,"HR",{}),_e=w(B),oe=g(B,"DIV",{class:!0});var ft=b(oe);V=g(ft,"FORM",{method:!0,class:!0});var Re=b(V);ce=g(Re,"INPUT",{type:!0,name:!0}),he=w(Re),ve=g(Re,"INPUT",{type:!0,name:!0}),pe=w(Re),S=g(Re,"BUTTON",{type:!0,class:!0});var ut=b(S);x(Ce.$$.fragment,ut),ut.forEach(u),ne=w(Re),H.l(Re),Re.forEach(u),ft.forEach(u),$=w(B),B.forEach(u),this.h()},h(){p(l,"class","h-full bg-contain bg-no-repeat bg-center"),ct(l,"background-image","url('"+r[7].banner+"')"),p(s,"class","h-24 max-h-24 p-2 bg-white"),dt(o.src,d=r[7].icon)||p(o,"src",d),p(o,"alt","icon"),p(o,"class","object-cover h-20 w-20 rounded-2xl p-2 bg-white"),p(c,"class","h3"),p(L,"class","text-sm text-surface-700-200-token"),p(a,"class","flex gap-4 items-center"),p(C,"class","flex gap-2 overflow-x-auto pb-3"),p(O,"class","!-mt-2"),p(ue,"class","badge variant-filled"),p(t,"class","p-4 space-y-2"),p(ce,"type","hidden"),p(ce,"name","appId"),ce.value=Ne=r[7].appId,p(ve,"type","hidden"),p(ve,"name","marketplaceId"),ve.value=$e=r[7].marketplace.id,p(S,"type","button"),p(S,"class","btn btn-icon variant-soft"),p(V,"method","post"),p(V,"class","flex justify-between"),p(oe,"class","p-4"),p(e,"class","card card-hover overflow-hidden")},m(K,B){R(K,e,B),i(e,s),i(s,l),i(e,n),i(e,t),i(t,a),i(a,o),i(a,_),i(a,f),i(f,c),i(c,h),i(f,k),i(f,L),i(L,M),i(t,z),i(t,C),G&&G.m(C,null),i(C,Y),se&&se.m(C,null),i(C,J);for(let Ie=0;Ie<Z.length;Ie+=1)Z[Ie]&&Z[Ie].m(C,null);i(t,le),i(t,O),i(O,j),i(t,P),i(t,ue),i(ue,ie),i(e,W),i(e,me),i(e,_e),i(e,oe),i(oe,V),i(V,ce),i(V,he),i(V,ve),i(V,pe),i(V,S),ee(Ce,S,null),i(V,ne),Se[fe].m(V,null),i(e,$),I=!0,D||(ge=[Ze(S,"click",Xe),Ke(Fe=et.call(null,V,at))],D=!0)},p(K,B){if(r=K,(!I||B&1)&&ct(l,"background-image","url('"+r[7].banner+"')"),(!I||B&1&&!dt(o.src,d=r[7].icon))&&p(o,"src",d),(!I||B&1)&&m!==(m=Ge(r[7].name)+"")&&Q(h,m),(!I||B&1)&&U!==(U=r[7].developer+"")&&Q(M,U),r[7].links.website?G?(G.p(r,B),B&1&&E(G,1)):(G=bt(r),G.c(),E(G,1),G.m(C,Y)):G&&(Ae(),T(G,1,1,()=>{G=null}),De()),r[7].links.repository?se?(se.p(r,B),B&1&&E(se,1)):(se=kt(r),se.c(),E(se,1),se.m(C,J)):se&&(Ae(),T(se,1,1,()=>{se=null}),De()),B&1){we=Le(r[7].links.custom??[]);let ae;for(ae=0;ae<we.length;ae+=1){const je=_t(r,we,ae);Z[ae]?(Z[ae].p(je,B),E(Z[ae],1)):(Z[ae]=Et(je),Z[ae].c(),E(Z[ae],1),Z[ae].m(C,null))}for(Ae(),ae=we.length;ae<Z.length;ae+=1)Qe(ae);De()}(!I||B&1)&&A!==(A=Ge(r[7].description)+"")&&Q(j,A),(!I||B&1)&&re!==(re=r[7].category+"")&&Q(ie,re),(!I||B&1&&Ne!==(Ne=r[7].appId))&&(ce.value=Ne),(!I||B&1&&$e!==($e=r[7].marketplace.id))&&(ve.value=$e);let Ie=fe;fe=nt(r),fe===Ie?Se[fe].p(r,B):(Ae(),T(Se[Ie],1,1,()=>{Se[Ie]=null}),De(),H=Se[fe],H?H.p(r,B):(H=Se[fe]=Te[fe](r),H.c()),E(H,1),H.m(V,null)),Fe&&ye(Fe.update)&&B&3&&Fe.update.call(null,at)},i(K){if(!I){E(G),E(se);for(let B=0;B<we.length;B+=1)E(Z[B]);E(Ce.$$.fragment,K),E(H),I=!0}},o(K){T(G),T(se),Z=Z.filter(Boolean);for(let B=0;B<Z.length;B+=1)T(Z[B]);T(Ce.$$.fragment,K),T(H),I=!1},d(K){K&&u(e),G&&G.d(),se&&se.d(),We(Z,K),te(Ce),Se[fe].d(),D=!1,wt(ge)}}}function wl(r){let e,s,l,n,t,a,o,d=r[2].t("discover.marketplaces")+"",_,f,c,m,h,k,L,U,M=r[2].t("discover.add-marketplace")+"",z,C,Y=!r[0].marketplaces.some(Nt),J,le,O,A,j,P,ue="Recently Added",re,ie,W="Trends",me,_e,oe="Charts",V,ce,Ne="Categories",he,ve,$e;l=new Qt({});let pe=Le(r[0].marketplaces),S=[];for(let $=0;$<pe.length;$+=1)S[$]=gt(vt(r,pe,$));const Ce=$=>T(S[$],1,1,()=>{S[$]=null});k=new Dt({});let ne=Y&&$t(r),fe=Le(r[0].marketplaceApps),H=[];for(let $=0;$<fe.length;$+=1)H[$]=It(ht(r,fe,$));const Fe=$=>T(H[$],1,1,()=>{H[$]=null});return{c(){e=v("div"),s=v("button"),y(l.$$.fragment),n=N(),t=v("div"),a=v("div"),o=v("h3"),_=F(d),f=N(),c=v("ul");for(let $=0;$<S.length;$+=1)S[$].c();m=N(),h=v("button"),y(k.$$.fragment),L=N(),U=v("span"),z=F(M),C=N(),ne&&ne.c(),J=N(),le=v("div"),O=N(),A=v("div");for(let $=0;$<H.length;$+=1)H[$].c();j=N(),P=v("h1"),P.textContent=ue,re=N(),ie=v("h1"),ie.textContent=W,me=N(),_e=v("h1"),_e.textContent=oe,V=N(),ce=v("h1"),ce.textContent=Ne,this.h()},l($){e=g($,"DIV",{class:!0});var I=b(e);s=g(I,"BUTTON",{type:!0,class:!0});var D=b(s);x(l.$$.fragment,D),D.forEach(u),n=w(I),t=g(I,"DIV",{class:!0,"data-popup":!0});var ge=b(t);a=g(ge,"DIV",{class:!0});var G=b(a);o=g(G,"H3",{class:!0});var se=b(o);_=q(se,d),se.forEach(u),f=w(G),c=g(G,"UL",{class:!0});var we=b(c);for(let Te=0;Te<S.length;Te+=1)S[Te].l(we);we.forEach(u),m=w(G),h=g(G,"BUTTON",{class:!0});var Z=b(h);x(k.$$.fragment,Z),L=w(Z),U=g(Z,"SPAN",{});var Qe=b(U);z=q(Qe,M),Qe.forEach(u),Z.forEach(u),C=w(G),ne&&ne.l(G),G.forEach(u),J=w(ge),le=g(ge,"DIV",{class:!0}),b(le).forEach(u),ge.forEach(u),I.forEach(u),O=w($),A=g($,"DIV",{class:!0});var Xe=b(A);for(let Te=0;Te<H.length;Te+=1)H[Te].l(Xe);Xe.forEach(u),j=w($),P=g($,"H1",{"data-svelte-h":!0}),Je(P)!=="svelte-pbvrh6"&&(P.textContent=ue),re=w($),ie=g($,"H1",{"data-svelte-h":!0}),Je(ie)!=="svelte-1u4cmqo"&&(ie.textContent=W),me=w($),_e=g($,"H1",{"data-svelte-h":!0}),Je(_e)!=="svelte-1e99svd"&&(_e.textContent=oe),V=w($),ce=g($,"H1",{"data-svelte-h":!0}),Je(ce)!=="svelte-1pj7hf8"&&(ce.textContent=Ne),this.h()},h(){p(s,"type","button"),p(s,"class","btn-icon variant-soft"),p(o,"class","h3"),p(c,"class","list"),h.disabled=!0,p(h,"class","btn btn-sm variant-filled-primary space-x-2"),p(a,"class","space-y-2"),p(le,"class","arrow bg-surface-100-800-token"),p(t,"class","card p-4 max-w-[36rem] shadow-xl"),p(t,"data-popup","popupMarketplaces"),p(e,"class","flex justify-end"),p(A,"class","grid grid-cols-4 gap-4")},m($,I){R($,e,I),i(e,s),ee(l,s,null),i(e,n),i(e,t),i(t,a),i(a,o),i(o,_),i(a,f),i(a,c);for(let D=0;D<S.length;D+=1)S[D]&&S[D].m(c,null);i(a,m),i(a,h),ee(k,h,null),i(h,L),i(h,U),i(U,z),i(a,C),ne&&ne.m(a,null),i(t,J),i(t,le),R($,O,I),R($,A,I);for(let D=0;D<H.length;D+=1)H[D]&&H[D].m(A,null);R($,j,I),R($,P,I),R($,re,I),R($,ie,I),R($,me,I),R($,_e,I),R($,V,I),R($,ce,I),he=!0,ve||($e=Ke(Tt.call(null,s,{event:"click",target:"popupMarketplaces",placement:"bottom-end"})),ve=!0)},p($,[I]){if((!he||I&4)&&d!==(d=$[2].t("discover.marketplaces")+"")&&Q(_,d),I&1){pe=Le($[0].marketplaces);let D;for(D=0;D<pe.length;D+=1){const ge=vt($,pe,D);S[D]?(S[D].p(ge,I),E(S[D],1)):(S[D]=gt(ge),S[D].c(),E(S[D],1),S[D].m(c,null))}for(Ae(),D=pe.length;D<S.length;D+=1)Ce(D);De()}if((!he||I&4)&&M!==(M=$[2].t("discover.add-marketplace")+"")&&Q(z,M),I&1&&(Y=!$[0].marketplaces.some(Nt)),Y?ne?(ne.p($,I),I&1&&E(ne,1)):(ne=$t($),ne.c(),E(ne,1),ne.m(a,null)):ne&&(Ae(),T(ne,1,1,()=>{ne=null}),De()),I&15){fe=Le($[0].marketplaceApps);let D;for(D=0;D<fe.length;D+=1){const ge=ht($,fe,D);H[D]?(H[D].p(ge,I),E(H[D],1)):(H[D]=It(ge),H[D].c(),E(H[D],1),H[D].m(A,null))}for(Ae(),D=fe.length;D<H.length;D+=1)Fe(D);De()}},i($){if(!he){E(l.$$.fragment,$);for(let I=0;I<pe.length;I+=1)E(S[I]);E(k.$$.fragment,$),E(ne);for(let I=0;I<fe.length;I+=1)E(H[I]);he=!0}},o($){T(l.$$.fragment,$),S=S.filter(Boolean);for(let I=0;I<S.length;I+=1)T(S[I]);T(k.$$.fragment,$),T(ne),H=H.filter(Boolean);for(let I=0;I<H.length;I+=1)T(H[I]);he=!1},d($){$&&(u(e),u(O),u(A),u(j),u(P),u(re),u(ie),u(me),u(_e),u(V),u(ce)),te(l),We(S,$),te(k),ne&&ne.d(),We(H,$),ve=!1,$e()}}}const Nt=r=>r.gitRemoteUrl==="https://github.com/home-station-org/apps.git";function Tl(r,e,s){let l;xe(r,tt,f=>s(2,l=f));let{data:n}=e;const t=Mt();let a=[];const o=f=>{t.trigger({type:"component",component:{ref:pl,props:{app:f,marketplaceUrl:f.marketplace.gitRemoteUrl}}})},d=f=>t.trigger({type:"component",component:{ref:vl,props:{appId:f.appId,marketplaceId:f.marketplace.id,availableContainerEngines:n.containerEngines}}}),_=f=>(s(1,a=[...a,f.appId]),async({update:c})=>{s(1,a=a.filter(m=>m!==f.appId)),c()});return r.$$set=f=>{"data"in f&&s(0,n=f.data)},[n,a,l,t,o,d,_]}class Ll extends ke{constructor(e){super(),Ee(this,e,Tl,wl,be,{data:0})}}export{Ll as component};
