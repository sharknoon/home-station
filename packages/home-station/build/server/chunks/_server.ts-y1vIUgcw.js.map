{"version":3,"file":"_server.ts-y1vIUgcw.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/_...path_/_server.ts.js"],"sourcesContent":["import path from \"node:path\";\nimport { g as getAppDataPath } from \"../../../chunks/appdata.js\";\nimport { e as read_implementation, b as base, m as manifest } from \"../../../chunks/server.js\";\nimport { a as b64_decode } from \"../../../chunks/utils.js\";\nfunction read(asset) {\n  ;\n  if (!read_implementation) {\n    throw new Error(\n      \"No `read` implementation was provided. Please ensure that your adapter is up to date and supports this feature\"\n    );\n  }\n  if (asset.startsWith(\"data:\")) {\n    const [prelude, data] = asset.split(\";\");\n    const type = prelude.slice(5) || \"application/octet-stream\";\n    if (data.startsWith(\"base64,\")) {\n      const decoded2 = b64_decode(data.slice(7));\n      return new Response(decoded2, {\n        headers: {\n          \"Content-Length\": decoded2.byteLength.toString(),\n          \"Content-Type\": type\n        }\n      });\n    }\n    const decoded = decodeURIComponent(data);\n    return new Response(decoded, {\n      headers: {\n        \"Content-Length\": decoded.length.toString(),\n        \"Content-Type\": type\n      }\n    });\n  }\n  const file = asset.slice(base.length + 1);\n  if (file in manifest._.server_assets) {\n    const length = manifest._.server_assets[file];\n    const type = manifest.mimeTypes[file.slice(file.lastIndexOf(\".\"))];\n    return new Response(read_implementation(file), {\n      headers: {\n        \"Content-Length\": \"\" + length,\n        \"Content-Type\": type\n      }\n    });\n  }\n  throw new Error(`Asset does not exist: ${file}`);\n}\nconst GET = async ({ params }) => {\n  return read(path.join(await getAppDataPath(), params.path));\n};\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;;AAIA,SAAS,IAAI,CAAC,KAAK,EAAE;AAErB,EAAE,IAAI,CAAC,mBAAmB,EAAE;AAC5B,IAAI,MAAM,IAAI,KAAK;AACnB,MAAM,gHAAgH;AACtH,KAAK,CAAC;AACN,GAAG;AACH,EAAE,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;AACjC,IAAI,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC7C,IAAI,MAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,0BAA0B,CAAC;AAChE,IAAI,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;AACpC,MAAM,MAAM,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,MAAM,OAAO,IAAI,QAAQ,CAAC,QAAQ,EAAE;AACpC,QAAQ,OAAO,EAAE;AACjB,UAAU,gBAAgB,EAAE,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE;AAC1D,UAAU,cAAc,EAAE,IAAI;AAC9B,SAAS;AACT,OAAO,CAAC,CAAC;AACT,KAAK;AACL,IAAI,MAAM,OAAO,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;AAC7C,IAAI,OAAO,IAAI,QAAQ,CAAC,OAAO,EAAE;AACjC,MAAM,OAAO,EAAE;AACf,QAAQ,gBAAgB,EAAE,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE;AACnD,QAAQ,cAAc,EAAE,IAAI;AAC5B,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AAC5C,EAAE,IAAI,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC,aAAa,EAAE;AACxC,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAClD,IAAI,MAAM,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACvE,IAAI,OAAO,IAAI,QAAQ,CAAC,mBAAmB,CAAC,IAAI,CAAC,EAAE;AACnD,MAAM,OAAO,EAAE;AACf,QAAQ,gBAAgB,EAAE,EAAE,GAAG,MAAM;AACrC,QAAQ,cAAc,EAAE,IAAI;AAC5B,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH,EAAE,MAAM,IAAI,KAAK,CAAC,CAAC,sBAAsB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACnD,CAAC;AACI,MAAC,GAAG,GAAG,OAAO,EAAE,MAAM,EAAE,KAAK;AAClC,EAAE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,cAAc,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;AAC9D;;;;"}