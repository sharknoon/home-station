{"version":3,"file":"6-39ly7SEs.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/(sidebar)/settings/container-engines/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/6.js"],"sourcesContent":["import { d as db } from \"../../../../../chunks/db.js\";\nimport { t as testRemoteConnection, a as testLocalConnection } from \"../../../../../chunks/containerengines.js\";\nconst load = async () => {\n  const containerEngines = await db.query.containerEngines.findMany();\n  for (const engine of containerEngines) {\n    try {\n      let docker;\n      if (engine.host) {\n        docker = await testRemoteConnection(\n          engine.host,\n          engine.ca ?? void 0,\n          engine.cert ?? void 0,\n          engine.key ?? void 0\n        );\n      } else {\n        docker = await testLocalConnection(engine.socketPath ?? void 0);\n      }\n      const info = await docker.info();\n      const volumes = await docker.listVolumes();\n      const stacks = (await docker.listContainers({ all: true })).filter((container) => container.Labels?.[\"com.docker.compose.project\"]).map((container) => container.Labels?.[\"com.docker.compose.project\"]).filter((value, index, self) => self.indexOf(value) === index);\n      engine.up = true;\n      engine.numberOfCPUs = info?.NCPU ?? 0;\n      engine.totalMemory = info?.MemTotal ?? 0;\n      engine.numberOfStacks = stacks?.length ?? 0;\n      engine.numberOfContainers = info?.Containers ?? 0;\n      engine.numberOfImages = info?.Images ?? 0;\n      engine.numberOfVolumes = volumes?.Volumes?.length ?? 0;\n    } catch {\n      engine.up = false;\n    }\n  }\n  return { containerEngines };\n};\nexport {\n  load\n};\n","import * as server from '../entries/pages/(sidebar)/settings/container-engines/_page.server.ts.js';\n\nexport const index = 6;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/(sidebar)/settings/container-engines/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/(sidebar)/settings/container-engines/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/6.7oR_MEWe.js\",\"_app/immutable/chunks/scheduler.bQlOXBkt.js\",\"_app/immutable/chunks/index.dknh01mB.js\",\"_app/immutable/chunks/each.anRlpCm9.js\",\"_app/immutable/chunks/spread.rEx3vLA9.js\",\"_app/immutable/chunks/Icon.9NkTZT6r.js\",\"_app/immutable/chunks/i18n.Mah0M8rZ.js\",\"_app/immutable/chunks/index.5bRYXlS8.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":["db"],"mappings":";;;;;;;;;;;;;;AAEA,MAAM,IAAI,GAAG,YAAY;AACzB,EAAE,MAAM,gBAAgB,GAAG,MAAMA,IAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC;AACtE,EAAE,KAAK,MAAM,MAAM,IAAI,gBAAgB,EAAE;AACzC,IAAI,IAAI;AACR,MAAM,IAAI,MAAM,CAAC;AACjB,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE;AACvB,QAAQ,MAAM,GAAG,MAAM,oBAAoB;AAC3C,UAAU,MAAM,CAAC,IAAI;AACrB,UAAU,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC;AAC7B,UAAU,MAAM,CAAC,IAAI,IAAI,KAAK,CAAC;AAC/B,UAAU,MAAM,CAAC,GAAG,IAAI,KAAK,CAAC;AAC9B,SAAS,CAAC;AACV,OAAO,MAAM;AACb,QAAQ,MAAM,GAAG,MAAM,mBAAmB,CAAC,MAAM,CAAC,UAAU,IAAI,KAAK,CAAC,CAAC,CAAC;AACxE,OAAO;AACP,MAAM,MAAM,IAAI,GAAG,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;AACvC,MAAM,MAAM,OAAO,GAAG,MAAM,MAAM,CAAC,WAAW,EAAE,CAAC;AACjD,MAAM,MAAM,MAAM,GAAG,CAAC,MAAM,MAAM,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM,GAAG,4BAA4B,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,SAAS,KAAK,SAAS,CAAC,MAAM,GAAG,4BAA4B,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC,CAAC;AAC7Q,MAAM,MAAM,CAAC,EAAE,GAAG,IAAI,CAAC;AACvB,MAAM,MAAM,CAAC,YAAY,GAAG,IAAI,EAAE,IAAI,IAAI,CAAC,CAAC;AAC5C,MAAM,MAAM,CAAC,WAAW,GAAG,IAAI,EAAE,QAAQ,IAAI,CAAC,CAAC;AAC/C,MAAM,MAAM,CAAC,cAAc,GAAG,MAAM,EAAE,MAAM,IAAI,CAAC,CAAC;AAClD,MAAM,MAAM,CAAC,kBAAkB,GAAG,IAAI,EAAE,UAAU,IAAI,CAAC,CAAC;AACxD,MAAM,MAAM,CAAC,cAAc,GAAG,IAAI,EAAE,MAAM,IAAI,CAAC,CAAC;AAChD,MAAM,MAAM,CAAC,eAAe,GAAG,OAAO,EAAE,OAAO,EAAE,MAAM,IAAI,CAAC,CAAC;AAC7D,KAAK,CAAC,MAAM;AACZ,MAAM,MAAM,CAAC,EAAE,GAAG,KAAK,CAAC;AACxB,KAAK;AACL,GAAG;AACH,EAAE,OAAO,EAAE,gBAAgB,EAAE,CAAC;AAC9B,CAAC;;;;;;;AC9BW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAuE,CAAC,EAAE,QAAQ;AAE7I,MAAC,SAAS,GAAG,kEAAkE;AAC/E,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,wCAAwC,CAAC,0CAA0C,CAAC,wCAAwC,CAAC,wCAAwC,CAAC,yCAAyC,EAAE;AAC1V,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}