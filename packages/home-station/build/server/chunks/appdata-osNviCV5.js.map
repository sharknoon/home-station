{"version":3,"file":"appdata-osNviCV5.js","sources":["../../../.svelte-kit/adapter-node/chunks/appdata.js"],"sourcesContent":["import path from \"node:path\";\nimport fs from \"node:fs/promises\";\nimport os from \"node:os\";\nimport winston from \"winston\";\nconst { combine, timestamp, printf, colorize } = winston.format;\nconst levels = {\n  levels: {\n    error: 0,\n    warn: 1,\n    info: 2,\n    debug: 3\n  },\n  colors: {\n    error: \"bold red\",\n    warn: \"bold yellow\",\n    info: \"bold blue\",\n    debug: \"bold gray\"\n  }\n};\nconst format = printf(({ level, message, timestamp: timestamp2 }) => {\n  return `${timestamp2} [${level}] ${message}`;\n});\nconst logger = winston.createLogger({\n  format: combine(\n    winston.format((info) => {\n      info.level = info.level.toUpperCase();\n      return info;\n    })(),\n    colorize({ level: true, colors: levels.colors }),\n    timestamp(),\n    format\n  ),\n  levels: levels.levels,\n  transports: [new winston.transports.Console()]\n});\nconst testing = process.env.NODE_ENV === \"test\";\nlet appDataPath;\n{\n  if (!testing) {\n    appDataPath = path.join(os.homedir(), \".home-station\");\n  } else {\n    appDataPath = path.join(os.tmpdir(), \".home-station\");\n  }\n  await fs.mkdir(appDataPath, { recursive: true });\n  logger.info(`Running on \"${process.platform}\", using \"${appDataPath}\" as data directory`);\n}\nasync function getAppDataPersistency() {\n  {\n    return {\n      isPersistent: true,\n      defaultAppDataPath: appDataPath,\n      currentAppDataPath: appDataPath\n    };\n  }\n}\nasync function getAppDataPath() {\n  return appDataPath;\n}\nexport {\n  getAppDataPersistency as a,\n  getAppDataPath as g,\n  logger as l\n};\n"],"names":[],"mappings":";;;;;AAIA,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,OAAO,CAAC,MAAM,CAAC;AAChE,MAAM,MAAM,GAAG;AACf,EAAE,MAAM,EAAE;AACV,IAAI,KAAK,EAAE,CAAC;AACZ,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,IAAI,EAAE,CAAC;AACX,IAAI,KAAK,EAAE,CAAC;AACZ,GAAG;AACH,EAAE,MAAM,EAAE;AACV,IAAI,KAAK,EAAE,UAAU;AACrB,IAAI,IAAI,EAAE,aAAa;AACvB,IAAI,IAAI,EAAE,WAAW;AACrB,IAAI,KAAK,EAAE,WAAW;AACtB,GAAG;AACH,CAAC,CAAC;AACF,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,KAAK;AACrE,EAAE,OAAO,CAAC,EAAE,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC;AACE,MAAC,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC;AACpC,EAAE,MAAM,EAAE,OAAO;AACjB,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,KAAK;AAC7B,MAAM,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;AAC5C,MAAM,OAAO,IAAI,CAAC;AAClB,KAAK,CAAC,EAAE;AACR,IAAI,QAAQ,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC;AACpD,IAAI,SAAS,EAAE;AACf,IAAI,MAAM;AACV,GAAG;AACH,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM;AACvB,EAAE,UAAU,EAAE,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;AAChD,CAAC,EAAE;AACH,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,CAAC;AAChD,IAAI,WAAW,CAAC;AAChB;AACA,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,EAAE,eAAe,CAAC,CAAC;AAC3D,GAAG,MAAM;AACT,IAAI,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,EAAE,eAAe,CAAC,CAAC;AAC1D,GAAG;AACH,EAAE,MAAM,EAAE,CAAC,KAAK,CAAC,WAAW,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AACnD,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,YAAY,EAAE,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,WAAW,CAAC,mBAAmB,CAAC,CAAC,CAAC;AAC5F,CAAC;AACD,eAAe,qBAAqB,GAAG;AACvC,EAAE;AACF,IAAI,OAAO;AACX,MAAM,YAAY,EAAE,IAAI;AACxB,MAAM,kBAAkB,EAAE,WAAW;AACrC,MAAM,kBAAkB,EAAE,WAAW;AACrC,KAAK,CAAC;AACN,GAAG;AACH,CAAC;AACD,eAAe,cAAc,GAAG;AAChC,EAAE,OAAO,WAAW,CAAC;AACrB;;;;"}